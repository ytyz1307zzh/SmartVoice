import subprocess

def run_whisper(wav_path, model_path="models/ggml-tiny.en.bin"):
    command = [
        "./main",  # 如果你用的是 ./stream 或其他名字，请改这里
        "-m", model_path,
        "-f", wav_path,
        "-otxt"  # 输出为文本文件
    ]
    subprocess.run(command)
    print("ASR processing complete.")

def read_transcript(filepath="output.txt"):
    with open(filepath, "r", encoding="utf-8") as f:
        return f.read().strip()
